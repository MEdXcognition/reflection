{% load i18n %}

<div class="reflection_block">
    <h3 class="hd-3">
        {% trans "Evaluation Phase" %}
    </h3>
    {% if self.learner_profile_disp %}
    <div data-disp="learner_profile_disp">
        <h4 class="hd-4">
            {% trans "Learner Profile" %}
        </h4>
        <figure class="gauge-cont kma" data-percentage={{self.kma}}>
            <div class="gauge">
                <div class="inner paleyellow"></div>
                <div class="bg left-threeeighths palered"></div>
                <div class="bg right-quarter palegreen"></div>
                <div class="spinner"></div>
            </div>
            <div class="pointer"></div>
            <div class="pointer-knob"></div>
            <span class="label-left">{% trans "0%" %}</span>
            <span class="label-right">{% trans "100%" %}</span>
            <figcaption>{% trans "Accuracy" %}</figcaption>
        </figure>
        <figure class="gauge-cont kmb" data-percentage={{self.kmb}}>
            <div class="gauge">
                <div class="inner palegreen"></div>
                <div class="bg left-third palered"></div>
                <div class="bg right-third palered"></div>
                <div class="spinner"></div>
            </div>
            <div class="pointer"></div>
            <div class="pointer-knob"></div>
            <span class="label-left">{% trans "Pessimistic" %}</span>
            <span class="label-right">{% trans "Optimistic" %}</span>
            <figcaption>{% trans "Bias" %}</figcaption>
        </figure>
    </div>
    {% endif %}
    <form class="form form-prompt-post">
        <div class="form">
            {% if self.post_q1_disp or self.post_q2_disp %}
            <div class="form-group">
                <h4 class="hd-4">
                    {% trans "Evaluation" %}
                </h4>
                {% if self.post_q1_disp %}
                <div class="field">
                    <label class="field-label" for="post_q1_ans">
                        {% trans "Did my particular course of thinking produce more or less than I had expected?" %}
                    </label>
                    <textarea class="field-textarea input-textarea textarea-medium textarea-block" id="post_q1_ans" name="post_q1_ans" required>{{self.post_q1_ans}}</textarea>
                </div>
                {% endif %}
                {% if self.post_q2_disp %}
                <div class="field">
                    <label class="field-label" for="post_q2_ans">
                        {% trans "What could I have done differently?" %}
                    </label>
                    <textarea class="field-textarea input-textarea textarea-medium textarea-block" id="post_q2_ans" name="post_q2_ans" required>{{self.post_q2_ans}}</textarea>
                </div>
                {% endif %}
            </div>
            {% endif %}
            {% if self.post_q3_disp or self.post_q4_disp or self.post_q5_disp %}
            <div class="form-group">
                <h4 class="hd-4">
                    {% trans "Self-Assessment" %}
                </h4>
                {% if self.post_q3_disp %}
                <div class="field">
                    <label class="field-label" for="post_q3_ans">
                        {% trans "How might I apply this line of thinking to other problems?" %}
                    </label>
                    <textarea class="field-textarea input-textarea textarea-medium textarea-block" id="post_q3_ans" name="post_q3_ans" required>{{self.post_q3_ans}}</textarea>
                </div>
                {% endif %}
                {% if self.post_q4_disp %}
                <div class="field">
                    <label class="field-label" for="post_q4_ans">
                        {% trans "Was this a good strategy to solve this problem?" %}
                    </label>
                    <textarea class="field-textarea input-textarea textarea-medium textarea-block" id="post_q4_ans" name="post_q4_ans" required>{{self.post_q4_ans}}</textarea>
                </div>
                {% endif %}
                {% if self.post_q5_disp %}
                <div class="field">
                    <label class="field-label" for="post_q5_ans">
                        {% trans "Would another strategy have been better suited to this problem?" %}
                    </label>
                    <textarea class="field-textarea input-textarea textarea-medium textarea-block" id="post_q5_ans" name="post_q5_ans" required>{{self.post_q5_ans}}</textarea>
                </div>
                {% endif %}
            </div>
            {% endif %}
            <div class="form-actions submit-attempt-container">
                <button type="submit" class="submit btn-brand btn-base" data-submitting="Submitting" data-value="Submit" data-should-enable-submit-button="True">
                    <span class="submit-label" aria-hidden="true">
                        {% trans "Submit" %}
                    </span>
                </button>
                <div class="is-hidden alert alert-success alert-slim submit-success" role="alert" aria-labelledby="alert-message-success" tabindex="-1">
                    <span class="icon alert-icon fa fa-check" aria-hidden="true"></span>
                    <div class="alert-message">
                        <p class="copy" id="alert-message-success">
                            {% trans "Your changes have been saved." %}
                        </p>
                    </div>
                </div>
                <div class="is-hidden alert alert-error alert-slim submit-error" role="alert" aria-labelledby="alert-message-error" tabindex="-1">
                    <span class="icon alert-icon fa fa-warning" aria-hidden="true"></span>
                    <div class="alert-message">
                        <p class="copy" id="alert-message-error">
                            {% trans "Error: unable to submit form." %}
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>
